<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tutorial: ThreeDSecure - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BraintreeClient3.html">BraintreeClient3</a><ul class='methods'><li data-type='method'><a href="BraintreeClient3.html#init">init</a></li></ul></li><li><a href="BraintreeUI3.html">BraintreeUI3</a><ul class='methods'><li data-type='method'><a href="BraintreeUI3.html#destroy">destroy</a></li><li data-type='method'><a href="BraintreeUI3.html#init">init</a></li><li data-type='method'><a href="BraintreeUI3.html#postInit">postInit</a></li></ul></li><li><a href="BraintreeUtils.html">BraintreeUtils</a><ul class='methods'><li data-type='method'><a href="BraintreeUtils.html#decodeToken">decodeToken</a></li><li data-type='method'><a href="BraintreeUtils.html#getAccountSettings">getAccountSettings</a></li><li data-type='method'><a href="BraintreeUtils.html#getAVSChallenges">getAVSChallenges</a></li><li data-type='method'><a href="BraintreeUtils.html#is3DSEnabled">is3DSEnabled</a></li><li data-type='method'><a href="BraintreeUtils.html#parseError">parseError</a></li><li data-type='method'><a href="BraintreeUtils.html#toBoolean">toBoolean</a></li></ul></li><li><a href="ConfiguredClass.html">ConfiguredClass</a><ul class='methods'><li data-type='method'><a href="ConfiguredClass.html#execModuleFn">execModuleFn</a></li><li data-type='method'><a href="ConfiguredClass.html#init">init</a></li></ul></li><li><a href="CustomUI.html">CustomUI</a><ul class='methods'><li data-type='method'><a href="CustomUI.html#postInit">postInit</a></li><li data-type='method'><a href="CustomUI.html#tokenizeCard">tokenizeCard</a></li></ul></li><li><a href="DropinUI.html">DropinUI</a><ul class='methods'><li data-type='method'><a href="DropinUI.html#init">init</a></li></ul></li><li><a href="GenericIntegration.html">GenericIntegration</a><ul class='methods'><li data-type='method'><a href="GenericIntegration.html#destroy">destroy</a></li><li data-type='method'><a href="GenericIntegration.html#on3DSFail">on3DSFail</a></li><li data-type='method'><a href="GenericIntegration.html#onBypass3DS">onBypass3DS</a></li><li data-type='method'><a href="GenericIntegration.html#onPaymentMethodReceived">onPaymentMethodReceived</a></li><li data-type='method'><a href="GenericIntegration.html#onReady">onReady</a></li><li data-type='method'><a href="GenericIntegration.html#processError">processError</a></li><li data-type='method'><a href="GenericIntegration.html#set3DSecure">set3DSecure</a></li><li data-type='method'><a href="GenericIntegration.html#setFieldValue">setFieldValue</a></li><li data-type='method'><a href="GenericIntegration.html#submit">submit</a></li></ul></li><li><a href="HostedFieldsUI.html">HostedFieldsUI</a><ul class='methods'><li data-type='method'><a href="HostedFieldsUI.html#createFields">createFields</a></li><li data-type='method'><a href="HostedFieldsUI.html#postInit">postInit</a></li><li data-type='method'><a href="HostedFieldsUI.html#tokenizeCard">tokenizeCard</a></li></ul></li><li><a href="PayPalButtonUI.html">PayPalButtonUI</a><ul class='methods'><li data-type='method'><a href="PayPalButtonUI.html#destroy">destroy</a></li><li data-type='method'><a href="PayPalButtonUI.html#disablePaymentButton">disablePaymentButton</a></li><li data-type='method'><a href="PayPalButtonUI.html#enablePaymentButton">enablePaymentButton</a></li><li data-type='method'><a href="PayPalButtonUI.html#getButtonId">getButtonId</a></li><li data-type='method'><a href="PayPalButtonUI.html#hidePaymentMethod">hidePaymentMethod</a></li><li data-type='method'><a href="PayPalButtonUI.html#init">init</a></li><li data-type='method'><a href="PayPalButtonUI.html#postInit">postInit</a></li><li data-type='method'><a href="PayPalButtonUI.html#showPaymentMethod">showPaymentMethod</a></li><li data-type='method'><a href="PayPalButtonUI.html#teardownHTML">teardownHTML</a></li><li data-type='method'><a href="PayPalButtonUI.html#tokenize">tokenize</a></li></ul></li><li><a href="ThreeDSecure.html">ThreeDSecure</a><ul class='methods'><li data-type='method'><a href="ThreeDSecure.html#init">init</a></li><li data-type='method'><a href="ThreeDSecure.html#removeFrame">removeFrame</a></li><li data-type='method'><a href="ThreeDSecure.html#verifyCard">verifyCard</a></li></ul></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-commonConf.html">Common configuration</a></li><li><a href="tutorial-customUI_.html">CustomUI</a></li><li><a href="tutorial-dropinUI_.html">DropinUI</a></li><li><a href="tutorial-hostedFieldsUI_.html">HostedFieldsUI</a></li><li><a href="tutorial-paypalButtonUI_.html">PayPalButtonUI</a></li><li><a href="tutorial-threeDSecure_.html">ThreeDSecure</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Tutorial: ThreeDSecure</h1>
    

    <section>

<header>
    

    <h2>ThreeDSecure</h2>
</header>

<article>
    <p>In case the 3DS authentication is required we should create a 3DS authentication handler and also provide a frame for the 3DS authentication popup.</p>
<p>The 3DS authentication popup frame might look like this:</p>
<pre class="prettyprint source lang-html"><code>&lt;div id=&quot;modal&quot; class=&quot;hidden&quot;>
    &lt;div class=&quot;bt-mask&quot;>&lt;/div>
    &lt;div class=&quot;bt-modal-frame&quot;>
        &lt;div class=&quot;bt-modal-header&quot;>
            &lt;div class=&quot;header-text&quot;>Authentication&lt;/div>
        &lt;/div>
        &lt;div class=&quot;bt-modal-body&quot;>&lt;/div>
        &lt;div class=&quot;bt-modal-footer&quot;>
            &lt;a id=&quot;text-close&quot; href=&quot;#&quot;>Cancel&lt;/a>
        &lt;/div>
    &lt;/div>
&lt;/div></code></pre><p>The JavaScript that initializes and binds the 3DS handler to the above frame:</p>
<pre class="prettyprint source lang-javascript"><code>// setup the configuration for 3DS authentication
var threeDconf = {
  inputs: {
    amount: &quot;#amount&quot;
  },
  frame3ds: {
    bankFrame: $(&quot;.bt-modal-body&quot;),
    modal: $(&quot;#modal&quot;),
    hidden: &quot;hidden&quot;, // a CSS class that hides the frame 
    closeBtn: $(&quot;#text-close&quot;)
  },
  onReady: ui_obj.set3DSecure,
  onError: showError,
  onUserClose: function() {
    ui_obj.onError(&quot;3DS aborted by user&quot;);
  },
  onFailLiabilityShift: function(response) {
    ui_obj.onError(&quot;3DS liability shift failed&quot;);
    console.log(response);
  },
  onUseAVSLiabilityShiftFailed: function(response) {
    ui_obj.onError(&quot;3DS liability shift failed => we relay on AVS rules (&quot; + bt_utils.getAVSChallenges().join(&quot;,&quot;) + &quot;)&quot;);
    console.log(response);
  }
};

// copy the common configuration to the threeDconf configuration  
for (p in common) {
  if (!threeDconf.hasOwnProperty(p) && common.hasOwnProperty(p)) {
    threeDconf[p] = common[p];
  }
}

// finally create the instance using the configuration above
var tds = new ThreeDSecure(threeDconf);</code></pre><p>For using the 3DS frame you should also stylish the popup using the CSS definition below:</p>
<pre class="prettyprint source lang-css"><code>@CHARSET &quot;UTF-8&quot;;

#modal {
    position: absolute;
    top: 0;
    left: 0;
    display: flex;
    align-items: center;
    height: 100vh;
    width: 100vw;
    z-index: 100;
}

.bt-modal-frame {
    height: 480px;
    width: 440px;
    margin: auto;
    background-color: #eee;
    z-index: 2;
    border-radius: 6px;
}

.bt-modal-body {
    height: 400px;
    margin: 0 20px;
    background-color: white;
    border: 1px solid lightgray;
}

.bt-modal-header, .bt-modal-footer {
    height: 40px;
    text-align: center;
    line-height: 40px;
}

.bt-mask {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    background-color: black;
    opacity: 0.8;
}

.hidden {
    display: none !important;
}</code></pre>
</article>

</section>

</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Sun Feb 19 2017 22:43:53 GMT+0100 (CET) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>